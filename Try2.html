<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Embed Test- v2</title>
</head>
<body>
    <a href="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" target="_blank">PDF</a></p>
    <a href="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" target="_system">PDF-Download</a></p>

    <h1>Post Object with Error Handling Send Object to App - Try the PDF</h1>
    <button id="postObjectButton">Send Object to App - Try the PDF- V2</button>

    <script>
        document.getElementById('postObjectButton').addEventListener('click', function() {
            try {
                // Define the object you want to send
                var message = {
                    action: "openExternalBrowser",
                    url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                };
                
                // Send the object to the app via postMessage
                
                if (typeof window !== 'undefined') {
                        const target = window?.cordova_iab ?? window?.webkit?.messageHandlers?.cordova_iab;
                        target?.postMessage(JSON.stringify(message));
                      }
 
                console.log('Message sent successfully:', message);
            } catch (error) {
                console.error('Error sending message:', error);
                alert('Error: Could not send the message!');
            }
        });
    </script>
</body>
</html>
